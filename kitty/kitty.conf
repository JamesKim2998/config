include themes/kanagawa-custom.conf

font_size 18.0

# Cursor: beam by default, block in vim normal mode (handled by nvim's guicursor)
cursor_shape beam

# Default layout: tall (main window left, others stacked vertically on right)
enabled_layouts tall,fat,stack,splits

inactive_text_alpha 0.3

# Copy to clipboard merely by selecting text (like standard Linux terminals)
copy_on_select   yes

# Don't add newlines for soft-wrapped lines when copying
strip_trailing_spaces smart

# Open a new window in the current working directory
map cmd+return new_window_with_cwd
map cmd+t new_tab_with_cwd
map shift+enter send_text all \e\r  # Claude Code: newline without submit

# iTerm-style splits (switches to splits layout automatically)
map cmd+d combine : goto_layout splits : launch --location=vsplit --cwd=current
map cmd+shift+d combine : goto_layout splits : launch --location=hsplit --cwd=current

# Tab bar: show directory name, darker bg for visual separation
tab_title_template "  {title.split('/')[-1]}  "
tab_bar_style separator
tab_separator "â”‚"

# Seamless navigation between kitty splits and nvim splits using ctrl+hjkl.
# Requires: knubie/vim-kitty-navigator plugin in nvim.
allow_remote_control yes
listen_on unix:/tmp/mykitty
map ctrl+j kitten pass_keys.py bottom ctrl+j
map ctrl+k kitten pass_keys.py top    ctrl+k
map ctrl+h kitten pass_keys.py left   ctrl+h
map ctrl+l kitten pass_keys.py right  ctrl+l

# =============================================================================
# Focus Reporting - DISABLED
# =============================================================================
# Disables terminal focus reporting escape sequences (\e[?1004h).
#
# Why: When enabled, Kitty sends focus-in (\e[I) and focus-out (\e[O) escape
# sequences when the window gains/loses focus. Some CLI apps (e.g., Claude Code)
# don't properly consume these sequences, causing "[I" and "[O" to appear as
# literal text when switching tabs (Cmd+Shift+[/]) or focusing in/out.
#
# Trade-offs:
# - Vim/Neovim FocusGained/FocusLost auto-commands won't fire
# - tmux focus-events won't work
# - TUI apps that respond to focus changes won't detect them
#
# References:
# - https://sw.kovidgoyal.net/kitty/conf/#opt-kitty.focus_reporting
# - https://sw.kovidgoyal.net/kitty/protocol-extensions/
# =============================================================================
# focus_reporting no
